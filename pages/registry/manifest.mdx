import { Callout } from "nextra-theme-docs";

# Wasmer Manifest

The manifest file called `wasmer.toml` is required [to publish](./get-started.mdx) to the [Wasmer registry](https://wasmer.io/products/registry); This file contains the package's dependencies, metadata, and commands are declared.

<Callout type="default" emoji="ðŸ’¡">
  If you want to get assistance creating the `wasmer.toml` file you can simply
  run `wasmer init` in your directory and the CLI will guide you!
</Callout>

The manifest file contains 5 top-level sections.

## \[package\]

Valid keys are:

- `name` \(string\) **required**
- `version` \([semver version](https://semver.org/)\) **required**: a valid Semantic Version.
- `description` \(string\) **required**
- `license` \([spdx identifier](https://spdx.org/licenses/)\): can be MIT or GPL, for example.
- `license-file` \(path\): an override for the license file path used in publishing. Left undefined, the `LICENSE` file will be implicitly included in the package.
- `readme` \(path\)
- `repository` \(url\)
- `homepage` \(url\)
- `entrypoint` \(string\): The command to use by default

## \[dependencies\]

- `"<namespace>/<name>" = "<version>"`

## \[\[module\]\]

- `name` \(string\) **required**
- `source` \(path\) **required**: path to the `.wasm` file

### \[module.bindings\]

Definitions used by [Wasmer Pack][wasmer-pack] when generating bindings for this
module.

- `wai-version` \(string\) **required**: The version of [WAI][wai] being targeted (e.g. `"0.2.0"`)
- `exports` \(string\): The path to a `*.wai` file defining the interface exposed by the module
- `imports` \(string\[\]\): A list of `*.wai` files defining functionality the host will provide to the module

## \[\[command\]\]

- `name` **required** \(string\): the name of the command, invoked via `wasmer run . --command=<command-name>`
- `module` **required** \(string\): the name of the module this command is running.
- `runner` **required** \(string\): a URL or well-known name for the runner used to execute this command (e.g. `"wasi"`, `"wcgi"`, `"emscripten"`)
- `annotations`: free-form command metadata that will be passed through to the runner as-is

Note that the `module` may be either the name of a `[[module]]` in the current `wasmer.toml`, or it might come from a dependency. For example, `module = "python/python:python"` indicates the command uses the `python` module from the package's `python/python` dependency.

It is valid (and often preferrable) for a `[command]` and `[module]` to have the same `name`.

### \[command.annotations.wasi\]

Annotations specific to the WASI runner.

- `main-args` \(string\[\]\): command-line arguments passed to a command on startup
- `env` \(string\[\]\): a list of `key=value` environment variables passed through to the command on startup

### \[command.annotations.wcgi\]

- `dialect` \(string\): the name of the CGI dialect being implemented. May be either `"rfc-3875"` (the default) or `"wcgi"`.

The WCGI runner also respects the `[command.annotations.wasi]` annotations.

### \[command.annotations.emscripten\]

- `main-args` \(string\[\]\): command-line arguments passed in on startup
- `env` \(string\[\]\): a list of `key=value` environment variables passed through to the instance on startup

## \[fs\]

- `"location/on/wasm"="location/on/publishing/machine"`: bundle local files into the package and make them available on the WASI filesystem

[wasmer-pack]: https://github.com/wasmerio/wasmer-pack
[wai]: https://github.com/wasmerio/wai
